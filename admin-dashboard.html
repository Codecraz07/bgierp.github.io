<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Admin Dashboard - BGI ERP</title>
  <link rel="stylesheet" href="style.css">

  <!-- FONT AWESOME -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      height: 100vh;
      background: #111;
      color: #fff;
      position: fixed;
      left: 0;
      top: 0;
      padding-top: 20px;
    }

    .sidebar h2 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 22px;
    }

    .sidebar ul {
      list-style: none;
      padding: 0;
    }

    .sidebar ul li {
      padding: 15px 20px;
      cursor: pointer;
      font-size: 16px;
      border-bottom: 1px solid #222;
    }

    .sidebar ul li:hover {
      background: #333;
    }

    .sidebar ul li i {
      margin-right: 10px;
    }

  
    /* MAIN CONTENT */
    .main {
      margin-left: 260px;
      padding: 20px;
      margin-top: 70px;
    }

    .card {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .card-title {
      font-size: 20px;
      margin-bottom: 10px;
      font-weight: bold;
    }

    /* Input Form */
    .input-group {
      margin-bottom: 10px;
    }

    .input-group input {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin-top: 5px;
    }

    .btn-add {
      background: green;
      padding: 10px 15px;
      border: none;
      color: #fff;
      margin-top: 10px;
      border-radius: 6px;
      cursor: pointer;
    }

    /* Table */
    table {
      width: 100%;
      border-collapse: collapse;
    }

    table th,
    table td {
      padding: 10px;
      border: 1px solid #ccc;
      text-align: left;
    }

    table button {
      margin-right: 5px;
      padding: 5px;
    }
  </style>
</head>

<body>

  <!-- SIDEBAR -->
  <div class="sidebar">

    <ul>
      <li><i class="fa fa-user"></i> Dashboard</li>
      <li><i class="fa fa-users"></i> Manage Faculty</li>
      <li><i class="fa fa-user-graduate"></i> Manage Students</li>
      <li><i class="fa fa-building"></i> Departments</li>
      <li><i class="fa fa-bullhorn"></i> Notices</li>
      <li><i class="fa fa-cog"></i> Settings</li>
    </ul>

  </div>

  <!-- Header Section -->
 <header class="top-header" style="display:flex; justify-content: space-between; align-items:center; padding:10px 20px; background:#000000; color:#fff;">
  <div class="left-section" style="display:flex; align-items:center; gap:10px;">
    <img src="Picsart_25-09-30_21-14-45-613.png" alt="BGI Logo" class="logo" style="height:40px;">
    <span class="title" style="font-size:20px; font-weight:bold;">BGI ERP</span>
  </div>

  <!-- ðŸ”¹ Right Section -->
  <div class="right-section" style="display:flex; align-items:center; gap:20px;">
    <span id="welcomeMessage" style="font-size:14px;"></span>
    
    <!-- Modern Logout Button -->
    <button onclick="logout()" class="logout-btn">
      <i class="fas fa-sign-out-alt"></i> Logout
    </button>
  </div>
</header>

  <!-- MAIN CONTENT -->
  <div class="main">

    <!-- Add Faculty -->
    <div class="card">
      <div class="card-title">Add Faculty</div>

      <div class="input-group">
        <label>Full Name</label>
        <input type="text" id="fName">
      </div>

      <div class="input-group">
        <label>Faculty ID</label>
        <input type="text" id="fId">
      </div>

      <div class="input-group">
        <label>Email</label>
        <input type="email" id="fEmail">
      </div>

      <button class="btn-add" onclick="addFaculty()">Add Faculty</button>
    </div>

    <!-- Faculty Table -->
    <div class="card">
      <div class="card-title">Faculty List</div>

      <table id="facultyTable">
        <thead>
          <tr>
            <th>Name</th>
            <th>Faculty ID</th>
            <th>Email</th>
            <th>Action</th>
          </tr>
        </thead>

        <tbody></tbody>
      </table>
    </div>

  </div>

  <script>

    /* Show Admin Name */
    function checkLogin() {
      const admin = localStorage.getItem("currentAdmin");
      if (!admin) {
        window.location.href = "admin-login.html";
      }
      document.getElementById("welcomeMessage").innerText = "Welcome, " + admin;
    }

    /* Add Faculty */
    function addFaculty() {
      const name = document.getElementById("fName").value.trim();
      const facultyId = document.getElementById("fId").value.trim();
      const email = document.getElementById("fEmail").value.trim();

      if (!name || !facultyId || !email) {
        alert("Please fill all fields!");
        return;
      }

      let allFaculty = JSON.parse(localStorage.getItem("allFaculty")) || [];

      allFaculty.push({ name, facultyId, email });

      localStorage.setItem("allFaculty", JSON.stringify(allFaculty));

      alert("Faculty Added Successfully!");

      loadFaculty();
    }

    /* Load Faculty */
    function loadFaculty() {
      let allFaculty = JSON.parse(localStorage.getItem("allFaculty")) || [];

      const tbody = document.querySelector("#facultyTable tbody");
      tbody.innerHTML = "";

      allFaculty.forEach((f, index) => {
        tbody.innerHTML += `
          <tr>
            <td>${f.name}</td>
            <td>${f.facultyId}</td>
            <td>${f.email}</td>
            <td>
              <button onclick="editFaculty(${index})">Edit</button>
              <button onclick="deleteFaculty(${index})">Delete</button>
            </td>
          </tr>
        `;
      });
    }

    /* Edit Faculty */
    function editFaculty(i) {
      let allFaculty = JSON.parse(localStorage.getItem("allFaculty"));
      let f = allFaculty[i];

      let newName = prompt("Update Name", f.name);
      let newEmail = prompt("Update Email", f.email);

      if (newName && newEmail) {
        f.name = newName;
        f.email = newEmail;

        allFaculty[i] = f;
        localStorage.setItem("allFaculty", JSON.stringify(allFaculty));
        loadFaculty();
      }
    }

    /* Delete Faculty */
    function deleteFaculty(i) {
      let allFaculty = JSON.parse(localStorage.getItem("allFaculty"));

      if (confirm("Delete this faculty?")) {
        allFaculty.splice(i, 1);
        localStorage.setItem("allFaculty", JSON.stringify(allFaculty));
        loadFaculty();
      }
    }

    /* Logout */
    function logout() {
      localStorage.removeItem("isAdminLoggedIn");
      localStorage.removeItem("currentAdmin");
      window.location.href = "admin-login.html";
    }

    window.onload = function () {
      checkLogin();
      loadFaculty();
    };
  </script>

</body>

</html>
